sudo docker container ls
sudo docker image ls
curl 10.10.10.11:18001
curl 10.10.10.11:18002
sudo apt install haproxy
sudo nano /etc/haproxy/haproxy.cfg
	frontend http_front
   		bind *:80
   		mode http
   		default_backend http_back

	backend http_back
   		mode http
    		balance roundrobin
    		option forwardfor
    		http-request set-header X-Forwarded-Port %[dst_port]
    		http-request add-header X-Forwarded-Proto https if { ssl_fc }
    		option httpchk HEAD / HTTP/1.1rnHost:localhost
    		server web1 10.10.10.11:18001
    		server web2 10.10.10.11:18002

	listen stats
    		bind *:1234
    		stats enable
    		stats hide-version
    		stats refresh 30s
    		stats show-node
		stats auth username:password
    		stats uri /stats

sudo haproxy -c -f /etc/haproxy/haproxy.cfg
sudo systemctl restart haproxy
curl 10.10.10.11
curl 10.10.10.11:1234/stats
